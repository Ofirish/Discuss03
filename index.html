<!DOCTYPE html>
<html lang="he">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>转专转  - 砖拽 拽驻</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #6a11cb, #2575fc);
            color: white;
            direction: rtl;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* Welcome Page */
        #welcomePage {
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #ff9a9e, #fad0c4);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            z-index: 30;
        }

        #welcomePage h1 {
            font-size: 36px;
            margin-bottom: 20px;
        }

        #welcomePage p {
            font-size: 18px;
            max-width: 600px;
            margin-bottom: 40px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 10px;
            color: black;
        }

        #startGameButton {
            padding: 15px 40px;
            font-size: 24px;
            background: #ff6f61;
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        #startGameButton:hover {
            transform: scale(1.1);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        /* Game Container */
        #gameContainer {
            position: relative;
            width: 100%;
            height: 100%;
            overflow: hidden;
            display: none; /* Hidden by default */
        }

        .card {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80%;
            max-width: 400px;
            height: 300px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            color: white;
            cursor: grab;
            transition: transform 0.3s ease, opacity 0.3s ease, box-shadow 0.3s ease;
            z-index: 10;
        }

        .card.glow-left {
            box-shadow: -10px 0 30px rgba(255, 0, 0, 0.5); /* Red glow for "No" */
        }

        .card.glow-right {
            box-shadow: 10px 0 30px rgba(0, 255, 0, 0.5); /* Green glow for "Yes" */
        }

        .hint {
            position: absolute;
            bottom: 20px;
            width: 100%;
            text-align: center;
            font-size: 18px;
            color: rgba(255, 255, 255, 0.8);
        }

        .hint span {
            padding: 10px 20px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 20px;
        }

        /* Confetti Effect */
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #ffcc00;
            border-radius: 50%;
            animation: fall linear 3s;
            pointer-events: none;
        }

        @keyframes fall {
            0% {
                transform: translateY(-100vh) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }

        /* Thunder Effect */
        .thunder {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.8);
            animation: flash 0.5s ease-out;
            pointer-events: none;
        }

        @keyframes flash {
            0% {
                opacity: 0;
            }
            50% {
                opacity: 1;
            }
            100% {
                opacity: 0;
            }
        }

        /* End Screen */
        #endScreen {
            position: absolute;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            z-index: 20;
            display: none;
        }

        #resultImage {
            width: 200px;
            margin-bottom: 20px;
        }

        #shareButtons {
            display: flex;
            gap: 10px;
        }

        #shareButtons button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <!-- Welcome Page -->
    <div id="welcomePage">
        <h1>专  砖拽 转专转 !</h1>
        <p>
            转专转  砖  砖 驻砖专转  拽砖  转 注转 砖 专 爪专 转 .  住专  注专  注 驻转专转  转专, 转 砖转驻 驻注 驻转 砖 拽专转转.
        </p>
        <button id="startGameButton">转 砖拽</button>
    </div>

    <!-- Game Container -->
    <div id="gameContainer">
        <div class="hint">
            <span>专专  注专 "" 砖 注专 ""</span>
        </div>
    </div>

    <div id="endScreen">
        <img id="resultImage" src="" alt="转爪转 砖拽">
        <h2>拽 住驻: <span id="finalScore">0</span></h2>
        <div id="shareButtons">
            <button id="restartButton">砖拽 砖</button>
            <button id="shareWhatsApp">砖转祝 住驻</button>
            <button id="shareEmail">砖 </button>
        </div>
    </div>

    <!-- Include Hammer.js -->
    <script src="https://cdn.jsdelivr.net/npm/hammerjs@2.0.8/hammer.min.js"></script>

    <script>
        const allQuestions = [
            { question: " 转 砖 转 专转  专 专转?", correctAnswer: "no" },
            { question: " 砖  专拽 转 专砖 ?", correctAnswer: "yes" },
            { question: " -注 砖专 砖转转驻转  拽?", correctAnswer: "no" },
            { question: " 住 砖转 专砖 住祝 ?", correctAnswer: "yes" },
            { question: " 砖   专砖 驻住拽转 ?", correctAnswer: "yes" },
            // Add more questions here...
            { question: " 砖 爪专 住专 驻专 驻 ?", correctAnswer: "yes" },
            { question: " 砖  转  砖转转驻转 ?", correctAnswer: "yes" },
            { question: "   专转 专专转  驻拽?", correctAnswer: "no" },
            { question: " 砖 砖专 注  转 ?", correctAnswer: "yes" },
            { question: " 砖 转   转 转?", correctAnswer: "yes" },
            { question: " 砖 拽注 转专 砖   住驻拽 砖转转驻?", correctAnswer: "yes" },
            { question: " 砖 注 转 砖转转驻  转爪转 ?", correctAnswer: "yes" },
            { question: " 砖 注 专   砖?", correctAnswer: "yes" },
            { question: " 砖  转 住驻专   砖转转祝?", correctAnswer: "no" },
            { question: " 砖 砖专 注  驻转  砖转?", correctAnswer: "yes" },
            { question: " 砖 转转 注驻转 注转 砖 ?", correctAnswer: "yes" },
            { question: " 砖 拽驻 注  ?", correctAnswer: "yes" },
            { question: " 砖 注 专 砖 ?", correctAnswer: "yes" },
            { question: " 砖 拽 转  爪专 转注?", correctAnswer: "yes" },
            { question: " 砖 注 注转 拽爪转 ?", correctAnswer: "no" },
            { question: " 砖 砖专 注 砖 专 ?", correctAnswer: "yes" },
            { question: " 砖 转转 驻砖专转 爪注 ?", correctAnswer: "yes" },
            { question: " 砖 注 驻专注转 爪转?", correctAnswer: "yes" },
            { question: " 砖 拽   砖 砖注?", correctAnswer: "no" },
            { question: " 砖 转转 砖 专 ?", correctAnswer: "yes" },
            { question: " 砖 爪 转 转爪转 驻 爪专?", correctAnswer: "yes" },
            { question: " 砖 注 拽转 砖转?", correctAnswer: "yes" },
            { question: " 砖 拽注 转拽 ?", correctAnswer: "yes" },
            { question: " 砖 砖专 注 砖拽驻转 ?", correctAnswer: "yes" },
            { question: " 砖 注 抓 ?", correctAnswer: "no" },
            { question: " 砖 转转 驻拽  砖转转祝?", correctAnswer: "yes" },
            { question: " 砖 注 注转 砖转?", correctAnswer: "no" },
            { question: " 砖 拽    住?", correctAnswer: "yes" },
            { question: " 砖 注 转转 专驻转?", correctAnswer: "yes" },
            { question: " 砖 砖专 注 拽转  转?", correctAnswer: "yes" },
            { question: " 砖 转转   驻 ?", correctAnswer: "yes" },
            { question: " 砖 注 注转 拽转?", correctAnswer: "yes" },
            { question: " 砖 砖专 注 拽砖专 注 砖转转驻?", correctAnswer: "yes" },
            { question: " 砖 注 转转  转?", correctAnswer: "yes" },
            { question: " 砖 转转 砖转 专 ?", correctAnswer: "yes" },
            { question: " 砖 砖专 注 转拽砖专转 专专?", correctAnswer: "yes" },
            { question: " 砖 注 注转 转?", correctAnswer: "yes" },
            { question: " 砖 拽    住?", correctAnswer: "yes" },
            { question: " 砖 注 转转?", correctAnswer: "no" },
            { question: " 砖 砖专 注 专 注?", correctAnswer: "yes" },
            { question: " 砖 转转 砖 注 转爪转?", correctAnswer: "yes" },
            { question: " 砖 注 注转  住住转?", correctAnswer: "yes" },
            { question: " 砖 砖专 注 转拽砖专转 拽注?", correctAnswer: "yes" },
            { question: " 砖 注 转转  专?", correctAnswer: "yes" }
        ];

        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let score = 0;

        function shuffleArray(array) {
            // Fisher-Yates Shuffle Algorithm
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function getRandomQuestions() {
            const shuffledQuestions = shuffleArray([...allQuestions]);
            return shuffledQuestions.slice(0, 10);
        }

        function createCard(question) {
            const card = document.createElement("div");
            card.classList.add("card");
            card.textContent = question;

            return card;
        }

        function showNextCard() {
            if (currentQuestionIndex >= currentQuestions.length) {
                endGame();
                return;
            }

            const question = currentQuestions[currentQuestionIndex].question;
            const card = createCard(question);
            document.getElementById("gameContainer").appendChild(card);

            // Initialize Hammer.js for swipe gestures
            const hammer = new Hammer(card);

            // Listen for swipe events
            hammer.on("swipeleft", () => {
                handleAnswer(card, "no");
            });

            hammer.on("swiperight", () => {
                handleAnswer(card, "yes");
            });

            currentQuestionIndex++;
        }

        function handleAnswer(card, answer) {
            const correctAnswer = currentQuestions[currentQuestionIndex - 1].correctAnswer;
            if (answer === correctAnswer) {
                score += 10;
                showConfetti();
            } else {
                showThunder();
            }

            card.classList.add(answer === "yes" ? "glow-right" : "glow-left");
            setTimeout(() => flyAway(card, answer === "yes" ? "right" : "left"), 200);
        }

        function flyAway(card, direction) {
            card.style.transition = "transform 0.5s ease, opacity 0.5s ease";
            card.style.transform = `translate(${direction === "right" ? "100vw" : "-100vw"}, 0) rotate(${direction === "right" ? "30deg" : "-30deg"})`;
            card.style.opacity = "0";

            setTimeout(() => {
                card.remove();
                showNextCard();
            }, 500);
        }

        function showConfetti() {
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement("div");
                confetti.classList.add("confetti");
                confetti.style.left = `${Math.random() * 100}vw`;
                confetti.style.animationDuration = `${Math.random() * 2 + 1}s`;
                confetti.style.backgroundColor = ["#ffcc00", "#ff6666", "#66ccff"][Math.floor(Math.random() * 3)];
                document.body.appendChild(confetti);

                setTimeout(() => confetti.remove(), 3000);
            }
        }

        function showThunder() {
            const thunder = document.createElement("div");
            thunder.classList.add("thunder");
            document.body.appendChild(thunder);

            setTimeout(() => thunder.remove(), 500);
        }

        function endGame() {
            const endScreen = document.getElementById("endScreen");
            const finalScoreElement = document.getElementById("finalScore");
            const resultImage = document.getElementById("resultImage");

            finalScoreElement.textContent = score;

            // Generate a result image based on score
            if (score >= 90) {
                resultImage.src = "https://via.placeholder.com/200x200?text=%D7%94%D7%A6%D7%9C%D7%97+%D7%9E%D7%95%D7%A6%D7%9C%D7%97!";
            } else if (score >= 50) {
                resultImage.src = "https://via.placeholder.com/200x200?text=%D7%94%D7%A6%D7%9C%D7%97+%D7%98%D7%95%D7%91!";
            } else {
                resultImage.src = "https://via.placeholder.com/200x200?text=%D7%9C%D7%94%D7%A9%D7%AA%D7%93%D7%9C!";
            }

            endScreen.style.display = "flex";
        }

        function restartGame() {
            document.getElementById("endScreen").style.display = "none";
            document.getElementById("gameContainer").style.display = "block";
            currentQuestions = getRandomQuestions();
            currentQuestionIndex = 0;
            score = 0;
            showNextCard();
        }

        function shareResults(platform) {
            const scoreText = `砖转 ${score} 拽转 砖拽 转专转 ! `;
            const url = "https://via.placeholder.com/200x200?text=%D7%94%D7%A6%D7%9C%D7%97+%D7%9E%D7%95%D7%A6%D7%9C%D7%97!";

            if (platform === "whatsapp") {
                window.open(`https://wa.me/?text=${encodeURIComponent(scoreText)}%0A${url}`, "_blank");
            } else if (platform === "email") {
                window.location.href = `mailto:?subject=转爪转 砖拽&body=${encodeURIComponent(scoreText)}%0A${url}`;
            }
        }

        document.getElementById("startGameButton").addEventListener("click", () => {
            document.getElementById("welcomePage").style.display = "none";
            document.getElementById("gameContainer").style.display = "block";
            currentQuestions = getRandomQuestions();
            showNextCard();
        });

        document.getElementById("restartButton").addEventListener("click", restartGame);
        document.getElementById("shareWhatsApp").addEventListener("click", () => shareResults("whatsapp"));
        document.getElementById("shareEmail").addEventListener("click", () => shareResults("email"));
    </script>
</body>
</html>
